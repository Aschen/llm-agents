# Branch Solve Merge prompt algorithm

This is an implementation of the [Branch-Solve-Merge](https://arxiv.org/pdf/2310.15123.pdf) paper (Saha et al. 2023).

First, a question is given to the Branch Agent to generate criterias to further evaluate answers regarding to the question.  
(criterias can also be given by the user)

Example criteria: `Comprehensiveness: The answer should cover all aspects of the question. It should discuss good practices in terms of remuneration, particularly the balance between fixed salary, variable salary, and BSPCE (French stock options). It should also address the system that rewards employees who invest themselves.`

Then, the Solve Agent will evaluate every answer according to every criteria. Each evaluation will be given a grade from 0 to 10 and a detailled analysis.  
(answers can also be generated by the LLM)

Example analysis: `Note 2/10. The answer provided does not meet the criteria set for the question. The question asked for good practices in terms of remuneration, particularly the balance between fixed salary, variable salary, and BSPCE (share warrants for entrepreneurs), and how to reward employees who invest themselves. However, the answer provided is focused on the salaries of junior developers, particularly those using Microsoft technologies in Paris. It does not provide any concrete examples or strategies on how to balance the different types of remuneration or how to reward employees who invest themselves. The answer is not applicable in a real-world business setting as it does not address the question asked.`

Finally, the Merge Agent will select the best answers based on all the analysis made by the Solve Agent. It will also extract relevant informations from each answer and merge them into a new relevant answer.

Example merged answer:

```
For a startup in the early stages, it is important to find a balance between fixed salary, variable salary, and BSPCE (French stock options). A fixed salary that's too high can be excessive for a startup in the early stages. Therefore, it is recommended to stay around the market average. BSPCEs can be used as an additional incentive to attract and retain talent. However, it is important to note that the salary can vary based on several factors, including the technology used, the company, and the market. Moreover, it is essential to set up a system that rewards employees who commit themselves. This could include equity options, performance bonuses, or other forms of variable compensation. Finally, it is important to consider the geographical location of the startup when determining the salary.
```

## Example 1: Merge meaningful info from answers

Question:

```
What is a good ratio of daily active users to total users for an up and coming iOS social network app?
```

Criterias (generated):

- Industry Benchmark: The answer should provide a comparison to industry benchmarks or averages. This is important because it gives context to the ratio. For example, if the average ratio for similar apps is 20%, then a ratio of 30% could be considered good. Without this context, it's hard to determine what a 'good' ratio is.
- Explanation of Factors: The answer should explain the factors that can influence the ratio of daily active users to total users. This could include things like the type of app, its target audience, its stage of growth, and its marketing strategies. Understanding these factors can help to explain why a particular ratio might be considered 'good' for one app but not for another.
- Data Source: The answer should cite reliable data sources. This is important for verifying the accuracy of the information provided. The sources could be industry reports, academic studies, or data from the app's own analytics. Without reliable sources, it's hard to trust the accuracy of the answer.

Merged answer based on users answers:

```
A good ratio of daily active users to total users for an up and coming iOS social network app can vary depending on the specific features and use cases of the app.

Industry benchmarks suggest that leading social network platforms like Twitter and Facebook have a DAU to MAU ratio of 44% and 65% respectively. However, these are aspirational figures and may not be immediately attainable for a new app. For regular, indie, or startup apps, a ratio of around 20% could be a reasonable benchmark.

It's important to note that this ratio can vary depending on the app's category. For instance, a location-based social network might aim for a higher ratio, while a more local event or travel focused social app would have a lower ceiling.

Other metrics such as user drop off and logins per month should also be considered when evaluating the success of the app.

It's also crucial to monitor the correlation between new sign-ups and DAU growth, as this can indicate whether the app's marketing strategies are effective and whether it's attracting the right audience.
```

## Example 2: Select the best answer

Question:

```
Quelles sont selon vous les bonnes pratiques en terme de rémunération?
Particulièrement la balance entre le salaire fixe, le salaire variable et les BSPCE.
On aimerait avoir un système qui permette de récompenser les salariés qui s'investissent
```

Criterias (generated):

- Comprehensiveness: The answer should cover all aspects of the question. It should discuss good practices in terms of remuneration, particularly the balance between fixed salary, variable salary, and BSPCE (French stock options). It should also address the system that rewards employees who invest themselves.
- Practicality: The answer should not only be theoretical but also practical. It should provide concrete examples or strategies on how to balance the different types of remuneration and how to reward employees who invest themselves. The answer should be applicable in a real-world business setting.
- Expertise: The answer should demonstrate a deep understanding of the subject matter. It should be able to explain the pros and cons of different remuneration strategies, the legal and financial implications of BSPCE, and the impact of these strategies on employee motivation and company performance.

Best answer:

```
L'utilisateur Jean a posé une question concernant les salaires appropriés dans une startup en phase de démarrage (seed). Il a demandé si un salaire annuel de 70K serait acceptable, tout en cherchant à maintenir un équilibre entre la rétention des ingénieurs et la limitation de la consommation de trésorerie.

Le thème principal de la discussion est la détermination d'un salaire approprié pour les ingénieurs dans une startup en phase de démarrage.

Les thèmes abordés sont :

- Le niveau de salaire approprié pour une startup en phase de démarrage.
- L'impact de l'emplacement géographique sur le niveau de salaire.
- L'utilisation de parts de l'entreprise (BSPCE) comme incitation.

Les points de vue des participants sont les suivants :

- Sylvain a suggéré de se référer à une étude sur les salaires dans les startups pour avoir une idée du marché actuel.
- Hugo a souligné que 70K est une somme importante et que les startups ne devraient pas chercher à être dans le top 10% du marché. Il a également mentionné l'importance des exonérations de charges pour les JEI.
- Alexandre a proposé l'ouverture à des parts de l'entreprise comme stratégie à long terme pour garder et motiver les talents.
- Robin a suggéré de chercher des personnes ambitieuses et de leur offrir un salaire médian. Il a mentionné que 70K pourrait être excessif, surtout pour une startup en phase de démarrage.
- Éric a confirmé que 60K est un bon salaire et que 70K semble beaucoup pour une startup en phase de démarrage.
- Yoann a souligné l'importance de la variété des sujets et de la liberté dans une startup pour compenser un salaire médian.

Il semble y avoir un consensus sur le fait que 70K pourrait être un salaire excessif pour une startup en phase de démarrage. Plusieurs participants ont suggéré de se situer autour de la moyenne du marché et d'utiliser d'autres incitations, comme des parts de l'entreprise, pour attirer et retenir les talents.

En conclusion, Jean pourrait envisager d'offrir un salaire autour de la moyenne du marché et d'utiliser des parts de l'entreprise comme incitation supplémentaire. Il devrait également tenir compte de l'emplacement géographique de la startup lors de la détermination du salaire.
```

## Example 3: Evaluate generated answer given criterias

Question:

```
Could modern day humans, with all their technology, defeat a T-Rex? If so, what would it take?
```

Criterias (user defined):

- Realistic
- Creative
- Funny

Best answer (generated):

```
Yes, modern day humans with all their technology could defeat a T-Rex. The technology we have today is much more advanced than what was available during the era of the dinosaurs.

In terms of weaponry, a large caliber firearm could potentially kill a T-Rex, though it may take several shots to incapacitate such a large animal. Military grade weapons such as a tank or a rocket launcher would have a much higher chance of success.

Moreover, humans could also use traps, like pitfalls or snares, to immobilize the dinosaur. Using technology, humans could detect the T-Rex from a safe distance, track its movements, and strategize accordingly.

Another advantage is our knowledge of biology and pharmacology. We could potentially use tranquilizers or other means to incapacitate the T-Rex without having to physically confront it.

So, while a T-Rex is a formidable creature, the technology of modern day humans makes them more than capable of handling such a threat.
```
